<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soecode.web.mapper.OrderInfoMapper">
  <resultMap id="BaseResultMap" type="com.soecode.web.entity.OrderInfo">
    <result column="ORDER_ID" jdbcType="INTEGER" property="orderId" />
    <result column="ORDER_STATE" jdbcType="INTEGER" property="orderState" />
    <result column="GOODS_NUM" jdbcType="INTEGER" property="goodsNum" />
    <result column="ORDER_MONERY" jdbcType="DOUBLE" property="orderMonery" />
    <result column="START_ORDER_TIME" jdbcType="TIMESTAMP" property="startOrderTime" />
    <result column="PAY_WAY" jdbcType="VARCHAR" property="payWay" />
    <result column="USER_ID" jdbcType="INTEGER" property="userId" />
    <result column="USER_NAME" jdbcType="VARCHAR" property="userName" />
    <result column="RECEIVE_INFO_ID" jdbcType="VARCHAR" property="receiveInfoId" />
    <result column="TAKE_PERSON_ID" jdbcType="INTEGER" property="takePersonId" />
    <result column="TAKE_PERSON_NAME" jdbcType="VARCHAR" property="takePersonName" />
    <result column="TAKE_TIME" jdbcType="TIMESTAMP" property="takeTime" />
    <result column="SORT_TIME" jdbcType="TIMESTAMP" property="sortTime" />
    <result column="CLEAN_TIME" jdbcType="TIMESTAMP" property="cleanTime" />
    <result column="DELIVERY_TIME" jdbcType="TIMESTAMP" property="deliveryTime" />
    <result column="GET_GOODS_TIME" jdbcType="TIMESTAMP" property="getGoodsTime" />
    <result column="COMMISSION" jdbcType="VARCHAR" property="commission" />
    <result column="REMARKS" jdbcType="VARCHAR" property="remarks" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="APPOINTMENT_TIME" jdbcType="VARCHAR" property="appointmentTime" />

  </resultMap>
  <sql id="Base_Column_List">
    ORDER_ID, ORDER_STATE, GOODS_NUM, ORDER_MONERY, START_ORDER_TIME, PAY_WAY, USER_ID,
    USER_NAME, USER_ADDR, TAKE_PERSON_ID, TAKE_PERSON_NAME, TAKE_TIME, SORT_TIME, CLEAN_TIME, 
    DELIVERY_TIME, GET_GOODS_TIME, COMMISSION, REMARKS, CREATE_TIME, UPDATE_TIME,APPOINTMENT_TIME
  </sql>
    <insert id="insertOrder" parameterType="com.soecode.web.entity.OrderInfo">
      <selectKey resultType = "java.lang.Integer" keyProperty = "orderId"  order = "AFTER" >
        select LAST_INSERT_ID() as  orderId
      </selectKey>
        insert into order_info (ORDER_STATE,
           GOODS_NUM, ORDER_MONERY, START_ORDER_TIME,
           PAY_WAY, USER_ID, USER_NAME,
           RECEIVE_INFO_ID, REMARKS, CREATE_TIME,APPOINTMENT_TIME
            )
          values (1, #{goodsNum,jdbcType=INTEGER}, #{orderMonery,jdbcType=DOUBLE}, #{startOrderTime,jdbcType=TIMESTAMP},
            #{payWay,jdbcType=VARCHAR}, #{userId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR},
            #{receiveInfoId,jdbcType=VARCHAR}, #{remarks,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP},
            #{appointmentTime,jdbcType=VARCHAR}
            )
    </insert>
    <delete id="deleteByOrderId" parameterType="java.lang.Integer">
    delete from order_info
    where order_id = #{orderId,jdbcType=INTEGER}
  </delete>
</mapper>